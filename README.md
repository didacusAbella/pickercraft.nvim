# pickercraft.nvim

A lightweight, configurable picker for Neovim.

pickercraft is designed to be simple, fast and highly configurable by letting you choose the external tools used for:

- file listing
- live grep
- sorting
- previewing

It works with Neovim 0.11+ and uses floating windows for a Telescope-like experience without heavy dependencies.

---

## âš¡ Features

- File picker (ag -l by default)
- Live grep (ag --vimgrep by default)
- Fast sorting with `fzy`
- Preview buffer (internal or external command)
- Optional icons via `nvim-web-devicons`
- Syntax highlighting in preview (native Neovim)
- Lazy-load friendly

---

## ðŸš€ Installation (lazy.nvim)

```lua
require("lazy").setup({
  {
    "didacusabella/pickercraft.nvim",
    opts = {}
  }
})
```

## Commands

| Command        | Description           |
| -------------- | --------------------- |
| `:PickerFiles` | Open file picker      |
| `:PickerGrep`  | Open live grep picker |

## Configuration
You can customize pickercraft by passing options to `setup()`:

```lua
require("pickercraft").setup({
  filter_cmd = { "ag", "-g" },
  grep_cmd = { "ag", "--vimgrep" },
  sorter_cmd = { "fzy" },
  preview = {
    mode = "internal",
    cmd = { "bat", "--paging=never", "--color=always" },
  },
})
```

## Options explained

### filter_cmd

Default: `{"ag", "-g"}`

Used to filter files based on the search text typed in the prompt.
The typed text is appended to this command. You can replace it with fd or rg equivalent.

### grep_cmd

Default: `{"ag", "--vimgrep"}`

Used for live grep. 
The typed pattern is appended to this command. You can replace it with all commands that output a vimgrep like output

### sorter_cmd

Default: `{"fzy"}`
Used to sort the list of results returned by __list_cmd__, __filter_cmd__ or __grep_cmd__.
If you prefer another sorter (like fzf), you can replace it here


### preview

Default:

Show the preview of the selected source

```lua
preview = {
  mode = "internal",  -- "internal" or "external"
  cmd = { "bat", "--paging=never", "--color=always" },
}
```

#### preview.mode

- "internal": preview is generated by Neovim reading the file.

- "external": preview is generated by running the external command in preview.cmd.

preview.cmd

Used only when mode = "external".
The file path is appended automatically. You can use cat, bat or other previewers

### Icons
If you install **nvim-web-devicons** pickercraft will show file icons in both file picker and grep results
